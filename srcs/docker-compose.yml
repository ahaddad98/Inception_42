version: "3"
services:
        nginx:
                restart: always
                build: ./requirements/nginx/
                image: nginx
                depends_on:
                        - mariadb
                volumes:
                        - /home/amine/data/wp-data:/www/wordpress
                ports:
                        - "443:443"
                networks:
                - mynetwork
        mariadb:
                restart: always
                build: ./requirements/mariadb/
                image: mariadb
                volumes:
                        - /home/amine/data/mar-data:/var/lib/mysql
                ports:
                        - "3306:3306"
                networks:
                        - mynetwork
        wordpress:
                restart: always
                build: ./requirements/wordpress
                image: wordpress
                depends_on:
                        - nginx
                volumes:
                        - /home/amine/data/wp-data:/www/wordpress
      #- /home/amine/data/mar-data:/var/lib/mysql
                ports:
                        - "9000:9000"
                networks:
                        - mynetwork
        networks:
                mynetwork:
                        external: true
                        name: mynetwork
                #external: false
                #name: mynetwork
